
version: docke'3.8'

services:

  php:
    image: ./php
    volumes: 
     - /home/tpuser/web/html:/var/www/html
    networks: 
     - Web_network
    ports:
     - 9000:9000

  web:
    image: ./web
    volumes:
      - /home/tpuser/web/config/nginx.conf:/etc/nginx/nginx.conf 
    networks: 
     - Web_network
    ports: 
     - 80:80
  
  dns:
    image: ./tp4
    networks: 
     - Web_network
    ports: 
     - 53:53/tcp 
     - 53:53/udp

  mariadb:
    image: ./database
    networks: 
     - Web_network
    ports: 
     - 3306:3306

networks:
  Web_network: 

